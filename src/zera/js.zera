(ns js)

(defn object
  [&pairs]
  (let [o (.create js/Object js/null)
        xs (partition 2 pairs)]
    (doeach [x xs]
      (let [k (first x)]
        (.-set! o (if (keyword? k) (name k) (str k)) (second x))))
    o))

; TODO: build with js/function and js/object
(defn create-type [attrs &specs])
(defn create-protocol [attrs &specs])

(defn encode-json
  [x]
  (.stringify js/JSON x))

(defn decode-json
  [json-string]
  (.parse js/JSON json-string))
